(function(){var SITEWIDE_NOTIFICATION;(SITEWIDE_NOTIFICATION={html:'<div>\n  <div class="animated bounceInDown" id="sitewide-notification">\n    <div id="sitewide-notification-wrapper">\n      <a class="close-button">\n        <i class="fi-x-circle" alt="Dismiss notification"></i>\n      </a>\n\n      <div class="user_avatar" style="background: white;">\n        <div>\n          <div class="avatar"></div>\n        </div>\n      </div>\n\n      <div class="message">\n        <div class="salutation"></div>\n        <p></p>\n      </div>\n    </div>\n  </div>\n</div>'}).bindListeners=function(){return $(".close-button").click(function(){return SITEWIDE_NOTIFICATION.dismissNotification()})},SITEWIDE_NOTIFICATION.dismissNotification=function(){return SITEWIDE_NOTIFICATION.$element.removeClass("bounceInDown").slideUp(function(){var lsNotification;return(lsNotification=(lsNotification=localStorage.getItem("ls.scholastica-submissions-sitewide-notification"))?JSON.parse(lsNotification):{}).visible=!1,localStorage.setItem("ls.scholastica-submissions-sitewide-notification",JSON.stringify(lsNotification))}),!1},SITEWIDE_NOTIFICATION.draw=function(data){var $swappedInHtml;return($swappedInHtml=$(SITEWIDE_NOTIFICATION.html)).find(".salutation").html(data.salutation),$swappedInHtml.find(".message p").html(data.message),$swappedInHtml.find(".avatar").css("background-image","url('"+data.userAvatarUrl+"')"),SITEWIDE_NOTIFICATION.$element.html($swappedInHtml.html()),SITEWIDE_NOTIFICATION.$element.show(),SITEWIDE_NOTIFICATION.bindListeners()},document.addEventListener("DOMContentLoaded",function(){var pollForNotification;return SITEWIDE_NOTIFICATION.$element=$("#mount-sidewide-notification"),(pollForNotification=function(){return $.get("https://s3.amazonaws.com/static.scholasticahq.com/sitewide_notifications.json",function(data){var lsNotification,payload;if(!$.isEmptyObject(data)){if(lsNotification=(lsNotification=localStorage.getItem("ls.scholastica-submissions-sitewide-notification"))?JSON.parse(lsNotification):{},data.message!==lsNotification.message)return payload={visible:data.visible,message:data.message},localStorage.setItem("ls.scholastica-submissions-sitewide-notification",JSON.stringify(payload)),SITEWIDE_NOTIFICATION.draw(data);if(!1!==lsNotification.visible)return SITEWIDE_NOTIFICATION.$element.is(":empty")?SITEWIDE_NOTIFICATION.draw(data):void 0}})})(),setInterval(function(){return pollForNotification()},3e4)})}).call(this);